<!doctype html>
<html>
<head>
    <title>Tennis Court Reservations</title>
    <style>
        .date-divider {
            height: 1px;
            background-color: #000;
            colspan: 3;
        }
    </style>
</head>
<body>
    <h1>Tennis Court Reservations</h1>
    <p>í…Œë¦°ì´(í…Œì¹œì)ë“¤ì—ê²Œ ì½”íŠ¸ê¸°íšŒëŠ” ì†Œì¤‘í•œ ê²ƒ.. </p>
    <p>ì•„ì§ì€ ìº˜ë¦°ë” í•˜ë‚˜ë§Œ(5ì›”) "ì˜ˆì•½ê°€ëŠ¥" ì½”íŠ¸ ì¡°íšŒê°€ëŠ¥í•´ìš”! ê·¸ë˜ì„œ 6ì›”ì€ ëª»ê°€ì ¸ì˜¤ëŠ”ë°..ğŸ˜« (ì•„ë§ˆ!)ë‚˜ì¤‘ì— ì¶”ê°€ í• ê²Œìš”~</p>
    <p>ì¼ê³¼ ì‹œê°„ì„ ì¦ê¸°ë©´ì„œ ëª©í…Œ ì˜ˆì•½ì— ë„ì›€ì´ ë˜ë©´ ì¢‹ê² ê³  ğŸ¾ ëŒ€ì²´ì ìœ¼ë¡œ ì•„ì¹¨ 9ì‹œë¶€í„° ì˜¤í›„ 6ì‹œ ì‚¬ì´ì— ë™ì‘í•˜ë‹ˆ ì°¸ê³ í•´ì£¼ì„¸ìš”.</p>
    <h2>Last run time: {{ last_run_time }}</h2>
    <h3>ì¡°íšŒì£¼ê¸° : {{ execution_frequency }}</h3>
    <h4>Query ì‹œì‘ : {{ query_start_time }}</h4> <!-- ì¶”ê°€ëœ ë¶€ë¶„ -->
    <h4>Query ì¢…ë£Œ : {{ query_end_time }}</h4> <!-- ì¶”ê°€ëœ ë¶€ë¶„ -->
    <table>
        <tr>
            <th>Date</th>
            <th>Court</th>
            <th>Time</th>
        </tr>
        {% for date, courts in reservations.items() %}
            {% set row_span = [0] %}
            {% for court, times in courts.items() %}
                {% for time in times %}
                    {% set _ = row_span.append(row_span.pop() + 1) %}
                {% endfor %}
            {% endfor %}
            {% set first_row = [True] %}
            {% for court, times in courts.items() %}
                {% for time in times %}
                    {% if first_row[0] %}
                        <tr>
                            <!-- ì´ ë¶€ë¶„ì´ ë³€í–ˆìŠµë‹ˆë‹¤: -->
                            <td rowspan="{{ row_span[0] }}">{{ date }} ({{ date | day_of_week }})</td>
                            <td>{{ court }}</td>
                            <td>{{ time }}</td>
                        </tr>
                        {% set _ = first_row.pop() %}
                        {% set _ = first_row.append(False) %}
                    {% else %}
                        <tr>
                            <td>{{ court }}</td>
                            <td>{{ time }}</td>
                        </tr>
                    {% endif %}
                {% endfor %}
            {% endfor %}
            <tr class="date-divider"><td colspan="3"></td></tr>
        {% endfor %}
    </table>
</body>
</html>
